import 'dart:io';

void updateGitignore() {
  final gitignoreFile = File('${Directory.current.path}/.gitignore');
  if (!gitignoreFile.existsSync()) {
    gitignoreFile.createSync();
  }

  var gitignoreContent = gitignoreFile.readAsStringSync();
  final linesToAdd = [
    '',
    '# Generated by flutter_vscode',
    'node_modules/',
    'out/',
    '**.vscode.g.part',
  ];

  for (final line in linesToAdd) {
    if (!gitignoreContent.contains(line)) {
      gitignoreContent += '\n$line';
    }
  }

  gitignoreFile.writeAsStringSync(gitignoreContent);
  print('Updated: .gitignore');
}
